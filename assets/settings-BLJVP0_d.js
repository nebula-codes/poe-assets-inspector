import{L as m,r as v,C as p,c as w}from"./index-Ce7e3ufs.js";const o={theme:"dark",fontSize:14,showLineNumbers:!0,wordWrap:!1,autoAnalyze:!0,cacheEnabled:!0,maxRecentFiles:10,highlightSelectedRow:!0,copyFormat:"json"},s="poe-dat-studio-settings";function y(){try{const e=localStorage.getItem(s);if(e)return{...o,...JSON.parse(e)}}catch{console.warn("Failed to load settings from localStorage")}return{...o}}function z(e){try{localStorage.setItem(s,JSON.stringify(e))}catch{console.warn("Failed to save settings to localStorage")}}const E=m("settings",()=>{const e=v(y());p(e,t=>z(t),{deep:!0});function l(t){e.value.theme=t,a(t)}function a(t){const n=document.documentElement;n.classList.add("dark"),n.classList.toggle("high-contrast",t==="high-contrast")}function i(t){e.value.fontSize=Math.max(10,Math.min(20,t))}function r(){e.value.showLineNumbers=!e.value.showLineNumbers}function c(){e.value.wordWrap=!e.value.wordWrap}function u(){e.value.autoAnalyze=!e.value.autoAnalyze}function g(){e.value.cacheEnabled=!e.value.cacheEnabled}function h(){e.value={...o}}function d(){e.value.highlightSelectedRow=!e.value.highlightSelectedRow}function f(t){e.value.copyFormat=t}const S=w(()=>({"--viewer-font-size":`${e.value.fontSize}px`,"--viewer-line-height":`${Math.round(e.value.fontSize*1.35)}px`}));return a(e.value.theme),{settings:e,cssVariables:S,setTheme:l,setFontSize:i,toggleLineNumbers:r,toggleWordWrap:c,toggleAutoAnalyze:u,toggleCache:g,toggleHighlightSelectedRow:d,setCopyFormat:f,resetSettings:h}});export{E as u};
