import{c as W}from"./createLucideIcon-Rc0edyhf.js";import{L as $,r as C,c as p,g as I,d as K,A as he,U as Ie,a as Ce,o as S,w as me,f as _,y as ye,s as j,C as U,V as Qe,h as x,k as z,z as E,n as B,j as G,I as Ee}from"./index-D-HoPwQc.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=W("UploadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=W("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),xt=$("app",()=>{const e=C(!1),t=C(280),n=C([]),r=C(null),o=C(!1),a=C(""),s=p(()=>n.value.find(g=>g.id===r.value)),A=p(()=>n.value.length>0);function i(){e.value=!e.value}function l(g){t.value=Math.max(200,Math.min(500,g))}function c(g){const h=`tab-${Date.now()}-${Math.random().toString(36).slice(2,9)}`,F={...g,id:h};return n.value.push(F),r.value=h,h}function u(g){const h=n.value.findIndex(F=>F.id===g);h!==-1&&(n.value.splice(h,1),r.value===g&&(r.value=n.value[Math.min(h,n.value.length-1)]?.id??null))}function f(g){n.value.some(h=>h.id===g)&&(r.value=g)}function d(g,h=""){o.value=g,a.value=h}return{sidebarCollapsed:e,sidebarWidth:t,tabs:n,activeTabId:r,isLoading:o,loadingMessage:a,activeTab:s,hasOpenTabs:A,toggleSidebar:i,setSidebarWidth:l,openTab:c,closeTab:u,setActiveTab:f,setLoading:d}}),Ot=$("search",()=>{const e=I(new Map);function t(a,s,A){const i=s.substring(s.lastIndexOf("/")+1),l=new Map(e.value);l.set(a,{id:a,fullPath:s,name:i,viewer:A}),e.value=l}function n(a,s){const A=e.value.get(a);if(A){const i=new Map(e.value);i.set(a,{...A,viewer:s}),e.value=i}}function r(a){const s=new Map(e.value);s.delete(a),e.value=s}function o(){return Array.from(e.value.values())}return{openedFiles:e,registerFile:t,updateViewer:n,unregisterFile:r,getOpenedFiles:o}}),Be=K({props:{tag:{type:String,default:"div"}},emits:["resize"],setup(e,t){const n=C(null);return he(()=>{const r=new ResizeObserver(o=>{t.emit("resize",{width:o[0].contentRect.width,height:o[0].contentRect.height})});r.observe(n.value),Ie(()=>{r.unobserve(n.value)})}),{rootEl:n}}}),Z=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n};function we(e,t,n,r,o,a){return S(),Ce(ye(e.tag),{ref:"rootEl","data-role":"resize-observer"},{default:me(()=>[_(e.$slots,"default")]),_:3},512)}const Nt=Z(Be,[["render",we]]),pe=40,T=15,be=100,Y=(e,t)=>Math.max(1,Math.pow(e*(3/1e3)*t,2))*Math.sign(e);function H(e,t,n,r,o){if(n<=t)return null;const a=Math.max(0,t-(r?.fixedSize??0)),s=Math.max(pe,Math.floor(t*a/n)),A=(a-s)/(n-t),i=Math.round(o*A);return{trackSize:a,thumbSize:s,fixedSize:e,thumbRatio:A,thumbPos:i}}function Se(e){let t=0,n=0,r=0,o=0,a=null,s=0,A=0;function i(f){f.button===1&&(f.preventDefault(),f.stopPropagation(),document.body.style.cursor="all-scroll",a=null,t=f.clientY,n=f.clientX,r=0,o=0,s=0,A=requestAnimationFrame(u),document.addEventListener("mousemove",c),document.addEventListener("mouseup",l),document.addEventListener("mouseleave",l))}function l(){cancelAnimationFrame(A),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",l),document.removeEventListener("mouseleave",l),document.body.style.removeProperty("cursor")}function c(f){const d=f.clientY-t,g=f.clientX-n;if(a===null)if(Math.abs(d)>T)a="vertical",document.body.style.cursor="ns-resize";else if(Math.abs(g)>T)a="horizontal",document.body.style.cursor="ew-resize";else return;a==="vertical"?r=d:o=g}function u(f){const d=f-(s||f);s=f,A=requestAnimationFrame(u),e(Y(o,d),Y(r,d))}return{handleMousedown:i}}function ve(e){function t(n){e(0,Math.sign(n.deltaY)*be)}return{handleMousewheel:t}}function J(e,t,n){let r=0,o=0;const a=t==="y"?"y":"x",s=t==="y"?"clientY":"clientX";function A(c){c.preventDefault(),c.stopPropagation();const u=c.currentTarget;if(r=u.getBoundingClientRect()[a],c.target!==u){const f=c.target;o=c[s]-f.getBoundingClientRect()[a]}else o=e.value.thumbSize/2,i(c),o=c[s]-r-e.value.thumbPos;document.addEventListener("mousemove",i),document.addEventListener("mouseup",l),document.addEventListener("mouseleave",l)}function i(c){const u=(c[s]-r-o)/e.value.thumbRatio;t==="x"?n(u,void 0):n(void 0,u)}function l(){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",l),document.removeEventListener("mouseleave",l)}return{handleTrackMousedown:A}}const ke=K({props:{paintSize:{type:Object,required:!0},fullSize:{type:Object,required:!0},widthY:{type:Number,default:14},widthX:{type:Number,default:12}},emits:["scroll"],setup(e,t){const n=j({y:0,x:0});U(()=>[e.paintSize,e.fullSize],()=>{const{paintSize:A,fullSize:i}=e;n.x=Math.max(0,Math.min(n.x,i.width-A.width)),n.y=Math.max(0,Math.min(n.y,i.height-A.height))},{deep:!0}),U(n,()=>{t.emit("scroll",{y:n.y,x:n.x})});const r=p(()=>H(e.widthY,e.paintSize.height,e.fullSize.height,null,n.y)),o=p(()=>H(e.widthX,e.paintSize.width,e.fullSize.width,r.value,n.x));function a(A,i){const{paintSize:l,fullSize:c}=e;n.y=Math.max(0,Math.min(n.y+Math.floor(i),c.height-l.height)),n.x=Math.max(0,Math.min(n.x+Math.floor(A),c.width-l.width))}function s(A,i){const{paintSize:l,fullSize:c}=e;A!==void 0&&(n.x=Math.max(0,Math.min(Math.floor(A),c.width-l.width))),i!==void 0&&(n.y=Math.max(0,Math.min(Math.floor(i),c.height-l.height)))}return{scrollbarY:r,scrollbarX:o,scrollPos:Qe(n),scrollTo:s,scrollByDelta:a,handleMousedown:Se(a).handleMousedown,handleMousewheel:ve(a).handleMousewheel,handleTrackMousedownY:J(r,"y",s).handleTrackMousedown,handleTrackMousedownX:J(o,"x",s).handleTrackMousedown}}}),Me="_scrollable_66dfd_2",Re="_track_66dfd_8",De="_y_66dfd_11",Le="_x_66dfd_12",Fe="_thumb_66dfd_15",xe={scrollable:Me,track:Re,y:De,x:Le,thumb:Fe};function Oe(e,t,n,r,o,a){return S(),x("div",{class:B(e.$style.scrollable),style:E({width:e.paintSize.width+"px",height:e.paintSize.height+"px"}),onMousedown:t[2]||(t[2]=(...s)=>e.handleMousedown&&e.handleMousedown(...s)),onWheel:t[3]||(t[3]=(...s)=>e.handleMousewheel&&e.handleMousewheel(...s))},[_(e.$slots,"default"),e.scrollbarY?(S(),x("div",{key:0,class:B(`${e.$style.track} ${e.$style.y}`),onMousedown:t[0]||(t[0]=(...s)=>e.handleTrackMousedownY&&e.handleTrackMousedownY(...s)),style:E({width:e.scrollbarY.fixedSize+"px",height:e.scrollbarY.trackSize+"px"})},[G("div",{class:B(e.$style.thumb),style:E({transform:`translate(0, ${e.scrollbarY.thumbPos}px)`,width:e.scrollbarY.fixedSize+"px",height:e.scrollbarY.thumbSize+"px"})},null,6)],38)):z("",!0),e.scrollbarX?(S(),x("div",{key:1,class:B(`${e.$style.track} ${e.$style.x}`),onMousedown:t[1]||(t[1]=(...s)=>e.handleTrackMousedownX&&e.handleTrackMousedownX(...s)),style:E({width:e.scrollbarX.trackSize+"px",height:e.scrollbarX.fixedSize+"px"})},[G("div",{class:B(e.$style.thumb),style:E({transform:`translate(${e.scrollbarX.thumbPos}px, 0)`,width:e.scrollbarX.thumbSize+"px",height:e.scrollbarX.fixedSize+"px"})},null,6)],38)):z("",!0)],38)}const Ne={$style:xe},Ut=Z(ke,[["render",Oe],["__cssModules",Ne]]);function Ue(e,t,n=0){for(;;){const r=e.indexOf(t[0],n);if(r===-1||r+t.length>e.length)return-1;let o=!0;for(let a=r,s=0;s<t.length;++a,++s)if(e[a]!==t[s]){n=r+1,o=!1;break}if(o)return r}}function X(e,t,n=0){let r=0,o=0,a=0;e:for(;;){for(r=n;n<e.byteLength&&e[r]!==0;++r);if(r+t>e.length)return-1;for(o=r+1,a=1;a<t;++o,++a)if(e[o]!==0){n=r+1;continue e}return r}}const ee=4278124286,ze=new TextDecoder("utf-16le"),V=4,Ge={BOOL:1,BYTE:1,SHORT:2,LONG:4,LONGLONG:8,STRING:8,KEY:8,KEY_FOREIGN:16,ARRAY:16},Te=(e,t)=>!!e.getUint8(t),Ye=(e,t)=>e.getUint8(t),He=(e,t)=>e.getUint16(t,!0),Je=(e,t)=>e.getUint32(t,!0),Xe=(e,t)=>Number(e.getBigUint64(t,!0)),Ve=(e,t)=>e.getInt8(t),Pe=(e,t)=>e.getInt16(t,!0),qe=(e,t)=>e.getInt32(t,!0),We=(e,t)=>Number(e.getBigInt64(t,!0)),$e=(e,t)=>e.getFloat32(t,!0),Ke=(e,t)=>e.getFloat64(t,!0),_e=(e,t,n)=>{const r=e.getUint32(t,!0);return et(n,r)},je=(e,t)=>{const n=e.getUint32(t,!0);return n===ee?null:n},Ze=(e,t)=>{const n=e.getUint32(t,!0);return n===ee?null:n};function et(e,t){let n=X(e,V,t);for(;(n-t)%2!==0;)n=X(e,V,n+1);return ze.decode(e.subarray(t,n))}function tt(e,t,n,r){const{readerFixed:o}=e,a=o.getUint32(t,!0);if(a===0)return[];const{memsize:s,readerVariable:A,dataVariable:i}=e,l=o.getUint32(t+s,!0),c=[];for(let u=0;u<a;++u)c.push(n(A,l+u*r,i));return c}function nt(e,t){const{type:n}=e,{fieldSize:r}=t;let o,a;if(n.boolean)o=Te,a=r.BOOL;else if(n.string)o=_e,a=r.STRING;else if(n.integer){const{size:s,unsigned:A}=n.integer;a=s,s===1&&A?o=Ye:s===2&&A?o=He:s===4&&A?o=Je:s===8&&A?o=Xe:s===1&&!A?o=Ve:s===2&&!A?o=Pe:s===4&&!A?o=qe:s===8&&!A&&(o=We)}else n.decimal?(a=n.decimal.size,o=n.decimal.size===4?$e:Ke):n.key&&(a=n.key.foreign?r.KEY_FOREIGN:r.KEY,o=n.key.foreign?Ze:je);return n.array?function(A){const i=A*t.rowLength+e.offset;return tt(t,i,o,a)}:n.interval?function(A){const i=A*t.rowLength+e.offset;return[o(t.readerFixed,i+0,t.dataVariable),o(t.readerFixed,i+a,t.dataVariable)]}:function(A){const i=A*t.rowLength+e.offset;return o(t.readerFixed,i,t.dataVariable)}}function rt(e,t){const n=nt(e,t),r=[];for(let o=0;o<t.rowCount;++o)r.push(n(o));return r}const w=4,te=[187,187,187,187,187,187,187,187],ot=w+te.length;function ne(e,t){if(t.byteLength<ot)throw new Error("Invalid file size.");if(!e.endsWith("datc64"))throw new Error("Only datc64 files are supported.");const n=new Uint8Array(t),o=new DataView(n.buffer).getUint32(0,!0),a=st(n.subarray(w),te,o);if(a===-1)throw new Error("Invalid file: section with variable data not found.");const s=o>0?a/o:0,A=n.subarray(w,w+a),i=n.subarray(w+a),l=new DataView(A.buffer,A.byteOffset,A.byteLength),c=new DataView(i.buffer,i.byteOffset,i.byteLength);return{memsize:8,rowCount:o,rowLength:s,dataFixed:A,dataVariable:i,readerFixed:l,readerVariable:c,fieldSize:Ge}}function st(e,t,n){let r=0;for(;;){const o=Ue(e,t,r);if(o===-1)return-1;if(n===0||o%n===0)return o;r=o+1}}function re(e,t){const{type:n}=e,{fieldSize:r}=t,o=n.interval?2:1;if(n.array)return r.ARRAY;if(n.string)return r.STRING;if(n.key)return n.key.foreign?r.KEY_FOREIGN:r.KEY;if(n.integer)return n.integer.size*o;if(n.decimal)return n.decimal.size*o;if(n.boolean)return r.BOOL;throw new Error("Corrupted header")}(await WebAssembly.instantiateStreaming(fetch(new URL("data:application/wasm;base64,AGFzbQEAAAABNAdgBH9/f38Bf2AFf39/f38AYAF/AX9gAn9/AGAGf39/f39/AGACf38Bf2AGf39/f39/AX8DCgkCAwQFAAIGBgEEBQFwAQUFBQMBABEGCQF/AUGAgMAACwcvBAZtZW1vcnkCAAZtYWxsb2MAAARmcmVlAAESZmFzdF9hbmFseXplX2RhdDY0AAIJCgEAQQELBAQGBwgK0RMJgwEDAX8BfgF/I4CAgIAAQRBrIgEkgICAgAACQEEADQACQAJAAkAgAA0AQv////8PIQIMAQtBACkDkIDAgAAiAqcgAEEAQQAgAkIgiKcoAgARgICAgACAgICAACIDRQ0BIANFrUIghiADrYQhAgsgAqchAwwBCwsgAUEQaiSAgICAACADCzQBAX4CQCABRQ0AQQApA5CAwIAAIgKnIAAgAUEAQQAgAkIgiKcoAgwRgYCAgACAgICAAAsLygoHBn8CfgJ/A34CfwF+AX8jgICAgABB8ABrIgYkgICAgAAgBSEHIAQhCAJAA0AgCEUNASAHQQA7AAAgB0EGaiAIQQ9LIgk6AAAgB0EEaiAIQQdLIgo6AAAgB0EDaiAJOgAAIAdBAmogCjoAACAHQQdqQYGChAg2AAAgB0EFakEBOgAAIAdBC2ohByAIQX9qIQgMAAsLAkAgBEUNACABIARuIgutIQwgA60hDUEAIQ4DQCAOIAtPDQEgACAOIARsaiEPQQAhCANAAkACQAJAIAQgCEYNACAPIAhqIgktAAAiCiAFIAhBC2xqIgctAABLDQEMAgsgDkEBaiEODAMLIAcgCjoAAAsCQCAKQf4BRw0AIActAAENACAEIAhrQQhJDQAgByAJKQAAQv79+/fv37//flE6AAELAkAgBy0ABEUNACAGIAkpAAAiEEIEfCIRIBBUIgE6AAhBACEKAkAgAQ0AIBBCCFQNACARIA1WDQAgAiAQpyIKaiADIAprEIOAgIAAIQoLIAcgCkEBcToABAsCQCAHLQACRQ0AIAkpAAAiEEL+/fv379+//35RDQAgByAQIAxUOgACCwJAIActAANFDQAgByAJQQhqKQAAQv79+/fv37//fkIAIAkpAABC/v379+/fv/9+URtROgADCwJAIActAAZFDQAgBkEAOgAQIAlBCGopAAAhEiAJKQAAIRECQAJAQQANACASQghUDQAgEiANVg0AIAZBADoAGEEADQAgBiASIBF8IhAgElQiCToAICAJDQAgECANWA0BCwJAIBFCAFINACASIA1RDQILIAdBADoABgwBCwJAIActAAdFDQAgBiARQv//////////P1Y6AChBACEJAkAgEUKAgICAgICAgMAAWg0AIAYgEiARQgKGfCIQIBJUIgo6ADAgCg0AIBAgDVghCQsgByAJOgAHC0EAIQFBACEJAkAgBy0ACEUNACAGIBFC//////////8fVjoAOEEAIQkCQCARQoCAgICAgICAIFoNACAGIBIgEUIDhnwiECASVCIKOgBAIAoNACAQIA1YIQkLIAcgCToACAsCQCAHLQAKRQ0AIAYgEUL//////////x9WOgBIQQAhAQJAIBFCgICAgICAgIAgWg0AIAYgEiARQgOGfCIQIBJUIgo6AFAgCg0AIBAgDVghAQsgByABOgAKC0EAIRMCQCAHLQAJRQ0AIAYgEUL//////////w9WOgBYQQAhEwJAIBFCgICAgICAgIAQWg0AIAYgEiARQgSGfCIQIBJUIgo6AGAgCg0AIBAgDVghEwsgByATOgAJCyARIRAgAiASp2oiFCEKAkADQCAQUA0BIAlBAXFFDQEgBiAKKQAAIhJCBHwiFSASVCIWOgBoQQAhCQJAIBYNACASQghUDQAgFSANVg0AIAIgEqciCWogAyAJaxCDgICAACEJCyAQQn98IRAgByAJQQFxOgAIIApBCGohCgwACwsgESEQIBQhCQJAA0AgEFANASABQQFxRQ0BQQEhAQJAIAkpAAAiEkL+/fv379+//35RDQAgByASIAxUIgE6AAoLIBBCf3whECAJQQhqIQkMAAsLIBEhECAUIQkCQANAIBBQDQEgE0EBcUUNASAQQn98IRAgByAJQQhqKQAAQv79+/fv37//fkIAIAkpAABC/v379+/fv/9+URtRIhM6AAkgCUEQaiEJDAALCwNAIBFQDQEgBy0ABUUNASAHIBQtAABBAkk6AAUgEUJ/fCERIBRBAWohFAwACwsgCEEBaiEIDAALCwsgBkHwAGokgICAgAALiQEBBX8CQANAIAAhAkEAIQMgASIEQQNNDQECQCACLwAAIgUgAi8AAiIGckH//wNxDQBBASEDDAILIAJBAmohACAEQX5qIQEgBUGA8ANxQYCwA0cNACAFQf//A3FB/7cDSw0BIAZBgMAAakH//wNxQYD4A0kNASAEQXxqIQEgAkEEaiEADAALCyADC40CAQR/I4CAgIAAQRBrIgQkgICAgAAgBCACQR9xOgAPQQAhBQJAQX8gAUEEaiIGIAYgAUkbIgFBASACdCICIAEgAksbIgFBf2pnIgJFDQACQAJAQSAgAmsiAkH//wNxQX1qIgZBDU8NAEIBIAKtQv//A4OGpyEBIAZBAnQiB0GYgMCAAGoiBigCACICRQ0BIAYgASACakF8aigCADYCACACIQUMAgsgAUGDgARqQRB2EIWAgIAAIQUMAQsCQCAHQcyAwIAAaiIGKAIAIgJB//8DcQ0AQQEQhYCAgAAiAkUNASAGIAIgAWo2AgAgAiEFDAELIAYgAiABajYCACACIQULIARBEGokgICAgAAgBQtgAQJ/QgFBICAAQX9qZ2siAK1C//8Dg4anIQECQCAAQf//A3FBAnRBgIHAgABqIgIoAgAiAEUNACACIAFBEHQgAGpBfGooAgA2AgAgAA8LQQAgAUAAIgBBEHQgAEF/RhsL4AEBAn8jgICAgABBEGsiBiSAgICAACAGIANBH3E6AA9BfyAEQQRqIgcgByAESRsiBEEBIAN0IgMgBCADSxshBAJAAkACQCACQQRqIgIgAyACIANLGyIDQX9qZyICQW9qQQxLDQAgBEF/amciAw0BQQAhAwwCC0IBQSAgA0GDgARqQRB2QX9qZ2utQv//A4OGp0IBQSAgBEGDgARqQRB2QX9qZ2utQv//A4OGp0YhAwwBC0IBQSAgAmutQv//A4OGp0IBQSAgA2utQv//A4OGp0YhAwsgBkEQaiSAgICAACADCxwAIAFBACAEIAQgAiADIAQgBBCGgICAAEEBcRsLzgEBAn8jgICAgABBEGsiBSSAgICAACAFIANBH3E6AA8CQAJAQSAgAkEEaiICQQEgA3QiAyACIANLGyIDQX9qZ2siAkH//wNxQX1qIgZBDU8NACABQgEgAqyGp2pBfGogBkECdEGYgMCAAGoiAygCADYCACADIAE2AgAMAQsgAUIBQSAgA0GDgARqQRB2QX9qZ2siA61C//8Dg4anQRB0akF8aiADQf//A3FBAnRBgIHAgABqIgMoAgA2AgAgAyABNgIACyAFQRBqJICAgIAACwshAQBBgIDAAAsYAQAAAAIAAAADAAAABAAAAAAAAAAAABAA",import.meta.url)))).instance.exports;function oe(e,t){if(e.offset>=t.length)return!1;const n=e.type.boolean,r=e.type.integer,o=e.type.decimal,a=e.type.string,s=e.type.array,A=e.type.key,i=r?.size||o?.size,l=e.type.interval?2:1,c=t.length-e.offset,u=t[e.offset];if(r){if(i===2&&!s)return c>=2*l;if(i===4&&!s)return c>=4*l;if(i===4&&s)return u.refArray&&u.refArray.numeric32}if(o){if(i===4&&!s)return c>=4*l;if(i===4&&s)return u.refArray&&u.refArray.numeric32}if(n)return s?u.refArray&&u.refArray.boolean:u.maxValue<=1;if(a)return s?u.refArray&&u.refArray.string:u.refString;if(A&&A.foreign)return s?u.refArray&&u.refArray.keyForeign:u.keyForeign;if(A&&!A.foreign)return s?u.refArray&&u.refArray.keySelf:u.keySelf;if(s)return!!u.refArray;throw new Error("Unexpected type")}function at(e,t){for(let n=e.offset;n<e.offset+e.length;++n)t[n]=!0}function zt(e,t,n,r){const o=Math.min(t,n),a=Math.max(t,n);r=r.filter(s=>s.type.byteView&&!s.type.byteView.array);for(let s=o;s<=a;++s)r.some(A=>s>=A.offset&&s<A.offset+A.length)&&(e[s]=!e[s])}function At(e){e.fill(!1)}function it(e){const t=[];let n=e.indexOf(!0),r;if(n<0)return t;for(r=n,t.push([r]),n+=1;n<e.length;++n)if(e[n]){const o=n;o-r===1?t[t.length-1].push(o):t.push([o]),r=o}return t}const y=()=>({byteView:{array:!1}});function lt(e,t){for(let n=0;n<t.length;){const r=t[n];r.name!=null&&e.some(o=>o>=r.offset&&o<r.offset+r.length)?ut(r,t):n+=1}}function ct(e,t){const n=it(e);if(n.length===0)throw new Error("No bytes selected");if(n.length>1)throw new Error("Cannot create header from non-contiguous selection");const r=n[0];lt(r,t);const o=t.find(A=>r[0]>=A.offset&&r[0]+r.length<=A.offset+A.length);let a=[{name:null,offset:o.offset,length:r[0]-o.offset,type:y()},{name:"",offset:r[0],length:r.length,type:y(),textLength:11},{name:null,offset:r[0]+r.length,length:o.length-(r[0]-o.offset+r.length),type:y()}];const s=a[1];return a=a.filter(A=>A.length),t.splice(t.indexOf(o),1,...a),s}function ut(e,t){if(e.name==null)throw new Error("Cannot remove empty header");e.name=null,e.type=y();for(let n=0;n<t.length-1;){const r=ft(t[n],t[n+1]);r?t.splice(n,2,r):n+=1}}function ft(e,t){return e.name===null&&t.name===null?{name:null,offset:e.offset,length:e.length+t.length,type:y()}:null}function gt(e,t,n){const r=[];let o=0;for(const a of e){if(a.name==null||a.length)return null;const s=re(a,n),A={...a,length:s,offset:o};if(oe(A,t))r.push(A),o+=s;else return null}return{headers:r,increasedRowLength:o<n.rowLength}}function dt(e){return new Worker("/poe-assets-inspector/assets/script-C1dZUwWK.js",{type:"module",name:e?.name})}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const se=Symbol("Comlink.proxy"),ht=Symbol("Comlink.endpoint"),It=Symbol("Comlink.releaseProxy"),O=Symbol("Comlink.finalizer"),v=Symbol("Comlink.thrown"),ae=e=>typeof e=="object"&&e!==null||typeof e=="function",Ct={canHandle:e=>ae(e)&&e[se],serialize(e){const{port1:t,port2:n}=new MessageChannel;return ie(e,t),[n,[n]]},deserialize(e){return e.start(),ce(e)}},mt={canHandle:e=>ae(e)&&v in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},Ae=new Map([["proxy",Ct],["throw",mt]]);function yt(e,t){for(const n of e)if(t===n||n==="*"||n instanceof RegExp&&n.test(t))return!0;return!1}function ie(e,t=globalThis,n=["*"]){t.addEventListener("message",function r(o){if(!o||!o.data)return;if(!yt(n,o.origin)){console.warn(`Invalid origin '${o.origin}' for comlink proxy`);return}const{id:a,type:s,path:A}=Object.assign({path:[]},o.data),i=(o.data.argumentList||[]).map(m);let l;try{const c=A.slice(0,-1).reduce((f,d)=>f[d],e),u=A.reduce((f,d)=>f[d],e);switch(s){case"GET":l=u;break;case"SET":c[A.slice(-1)[0]]=m(o.data.value),l=!0;break;case"APPLY":l=u.apply(c,i);break;case"CONSTRUCT":{const f=new u(...i);l=pt(f)}break;case"ENDPOINT":{const{port1:f,port2:d}=new MessageChannel;ie(e,d),l=D(f,[f])}break;case"RELEASE":l=void 0;break;default:return}}catch(c){l={value:c,[v]:0}}Promise.resolve(l).catch(c=>({value:c,[v]:0})).then(c=>{const[u,f]=R(c);t.postMessage(Object.assign(Object.assign({},u),{id:a}),f),s==="RELEASE"&&(t.removeEventListener("message",r),le(t),O in e&&typeof e[O]=="function"&&e[O]())}).catch(c=>{const[u,f]=R({value:new TypeError("Unserializable return value"),[v]:0});t.postMessage(Object.assign(Object.assign({},u),{id:a}),f)})}),t.start&&t.start()}function Qt(e){return e.constructor.name==="MessagePort"}function le(e){Qt(e)&&e.close()}function ce(e,t){const n=new Map;return e.addEventListener("message",function(o){const{data:a}=o;if(!a||!a.id)return;const s=n.get(a.id);if(s)try{s(a)}finally{n.delete(a.id)}}),N(e,n,[],t)}function b(e){if(e)throw new Error("Proxy has been released and is not useable")}function ue(e){return Q(e,new Map,{type:"RELEASE"}).then(()=>{le(e)})}const k=new WeakMap,M="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const t=(k.get(e)||0)-1;k.set(e,t),t===0&&ue(e)});function Et(e,t){const n=(k.get(t)||0)+1;k.set(t,n),M&&M.register(e,t,e)}function Bt(e){M&&M.unregister(e)}function N(e,t,n=[],r=function(){}){let o=!1;const a=new Proxy(r,{get(s,A){if(b(o),A===It)return()=>{Bt(a),ue(e),t.clear(),o=!0};if(A==="then"){if(n.length===0)return{then:()=>a};const i=Q(e,t,{type:"GET",path:n.map(l=>l.toString())}).then(m);return i.then.bind(i)}return N(e,t,[...n,A])},set(s,A,i){b(o);const[l,c]=R(i);return Q(e,t,{type:"SET",path:[...n,A].map(u=>u.toString()),value:l},c).then(m)},apply(s,A,i){b(o);const l=n[n.length-1];if(l===ht)return Q(e,t,{type:"ENDPOINT"}).then(m);if(l==="bind")return N(e,t,n.slice(0,-1));const[c,u]=P(i);return Q(e,t,{type:"APPLY",path:n.map(f=>f.toString()),argumentList:c},u).then(m)},construct(s,A){b(o);const[i,l]=P(A);return Q(e,t,{type:"CONSTRUCT",path:n.map(c=>c.toString()),argumentList:i},l).then(m)}});return Et(a,e),a}function wt(e){return Array.prototype.concat.apply([],e)}function P(e){const t=e.map(R);return[t.map(n=>n[0]),wt(t.map(n=>n[1]))]}const fe=new WeakMap;function D(e,t){return fe.set(e,t),e}function pt(e){return Object.assign(e,{[se]:!0})}function R(e){for(const[t,n]of Ae)if(n.canHandle(e)){const[r,o]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},o]}return[{type:"RAW",value:e},fe.get(e)||[]]}function m(e){switch(e.type){case"HANDLER":return Ae.get(e.name).deserialize(e.value);case"RAW":return e.value}}function Q(e,t,n,r){return new Promise(o=>{const a=bt();t.set(a,o),e.start&&e.start(),e.postMessage(Object.assign({id:a},n),r)})}function bt(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}const L=ce(new dt);async function Gt(e){return await L.decompressSliceInBundle(D(e,[e]))}async function Tt(e,t,n){return await L.decompressSliceInBundle(D(e,[e]),t,n)}async function ge(e,t){return await L.analyzeDatFile(D(e,t?.transfer?[e.dataFixed.buffer]:[]))}async function Yt(e,t,n){return await L.getBatchFileInfo(e,t,n)}const q=new Map;function St(e,t,n){const r=q.get(e)?.deref();if(r)return r;const o=I(null);return vt(e,t,n).then(a=>{a&&(o.value=a)}).catch(()=>{}),q.set(e,new WeakRef(o)),o}async function vt(e,t,n){const r=await t.loadFileContent(e),o=ne(e,r.buffer),a=await ge(o),s=await n.findByName(de(e)),A=gt(s,a,o);if(A)return{headers:A.headers,datFile:o}}function Ht(e,t,n,r,o){const a=ne(e,t.buffer),s={headers:I(a.rowLength?[{name:null,offset:0,length:a.rowLength,type:y()}]:[]),datFile:a,name:de(e),path:e,columnStats:I([]),columnSelection:I(new Array(a.rowLength).fill(!1)),editHeader:I(null),selectedRow:I(null),rowSorting:I(null),scrollPos:j({x:0,y:0}),referencedTables:o.run(()=>p(()=>{const A=new Map;A.set(s.name,I({headers:s.headers.value,datFile:s.datFile}));for(const i of s.headers.value){if(!i.type.key?.table||A.has(i.type.key.table))continue;const l=s.path.replace(`/${s.name}.`,`/${i.type.key.table}.`);A.set(i.type.key.table,St(l,n,r))}return A}))};return ge(s.datFile).then(async A=>{s.columnStats.value=A,await kt(s,r)}),s}async function kt(e,t){e.editHeader.value=null,e.headers.value=e.datFile.rowLength?[{name:null,offset:0,length:e.datFile.rowLength,type:y()}]:[];const n=await t.findByName(e.name);try{Mt(n,e)}catch(r){window.alert(`WARN: ${r.message}`)}finally{Ee(e.headers)}}function Mt(e,t){let n=0;for(const r of e){const o=r.length||re(r,t.datFile);if(r.name==null){n+=o;continue}const a={...r,length:o,offset:n};if(!(r.length?t.datFile.rowLength-a.offset>=a.length:oe(a,t.columnStats.value)))throw new Error("The schema is invalid.");at(a,t.columnSelection.value);const A=ct(t.columnSelection.value,t.headers.value);Object.assign(A,a),At(t.columnSelection.value),n+=o}}function Jt(e,t){const n=e.filter(({type:r})=>r.boolean||r.decimal||r.integer||r.key||r.string).map((r,o)=>({name:r.name||`Unknown${o+1}`,data:rt(r,t)}));return n.unshift({name:"_rid",data:Array(t.rowCount).fill(void 0).map((r,o)=>o)}),Array(t.rowCount).fill(void 0).map((r,o)=>Object.fromEntries(n.map(a=>[a.name,a.data[o]])))}function de(e){return e.match(/[^/]+(?=\..+$)/)[0]}async function Xt(e,t){await t.saveHeaders(e.name,e.headers.value)}async function Vt(e,t){await t.removeHeaders(e.name)}var Pt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}export{Ut as C,Nt as R,Lt as U,Ft as X,Z as _,Ot as a,Tt as b,Yt as c,Gt as d,Jt as e,Ue as f,qt as g,ge as h,gt as i,Pt as j,it as k,ct as l,At as m,Vt as n,kt as o,rt as p,nt as q,ne as r,Xt as s,zt as t,xt as u,ut as v,Ht as w};
